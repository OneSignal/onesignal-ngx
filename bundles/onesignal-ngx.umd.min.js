!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("onesignal-ngx",["exports","@angular/core"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self)["onesignal-ngx"]={},n.ng.core)}(this,(function(n,e){"use strict";function i(n){if(n&&n.__esModule)return n;var e=Object.create(null);return n&&Object.keys(n).forEach((function(i){if("default"!==i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}})),e.default=n,Object.freeze(e)}var o=i(e);function t(n,e){return new Promise((function(i,o){var t;g&&o(),null===(t=window.OneSignalDeferred)||void 0===t||t.push((function(t){t.login(n,e).then((function(n){return i(n)})).catch((function(n){return o(n)}))}))}))}function r(){return new Promise((function(n,e){var i;g&&e(),null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.logout().then((function(e){return n(e)})).catch((function(n){return e(n)}))}))}))}function u(n){return new Promise((function(e,i){var o;g&&i(),null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(o){o.setConsentGiven(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))}function d(n){return new Promise((function(e,i){var o;g&&i(),null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(o){o.setConsentRequired(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))}var s={addAlias:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.addAlias(n,e)}))},addAliases:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.addAliases(n)}))},removeAlias:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeAlias(n)}))},removeAliases:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeAliases(n)}))},addEmail:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.addEmail(n)}))},removeEmail:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeEmail(n)}))},addSms:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.addSms(n)}))},removeSms:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeSms(n)}))},addTag:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.addTag(n,e)}))},addTags:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.addTags(n)}))},removeTag:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeTag(n)}))},removeTags:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeTags(n)}))},PushSubscription:{get id(){var n,e,i;return null===(i=null===(e=null===(n=window.OneSignal)||void 0===n?void 0:n.User)||void 0===e?void 0:e.PushSubscription)||void 0===i?void 0:i.id},get token(){var n,e,i;return null===(i=null===(e=null===(n=window.OneSignal)||void 0===n?void 0:n.User)||void 0===e?void 0:e.PushSubscription)||void 0===i?void 0:i.token},get optedIn(){var n,e,i;return null===(i=null===(e=null===(n=window.OneSignal)||void 0===n?void 0:n.User)||void 0===e?void 0:e.PushSubscription)||void 0===i?void 0:i.optedIn},optIn:function(){return new Promise((function(n,e){var i;g&&e(),null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.PushSubscription.optIn().then((function(e){return n(e)})).catch((function(n){return e(n)}))}))}))},optOut:function(){return new Promise((function(n,e){var i;g&&e(),null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.PushSubscription.optOut().then((function(e){return n(e)})).catch((function(n){return e(n)}))}))}))},addEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.PushSubscription.addEventListener(n,e)}))},removeEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.PushSubscription.removeEventListener(n,e)}))}}},c={sendOutcome:function(n,e){return new Promise((function(i,o){var t;g&&o(),null===(t=window.OneSignalDeferred)||void 0===t||t.push((function(t){t.Session.sendOutcome(n,e).then((function(n){return i(n)})).catch((function(n){return o(n)}))}))}))},sendUniqueOutcome:function(n){return new Promise((function(e,i){var o;g&&i(),null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(o){o.Session.sendUniqueOutcome(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))}},a={setLogLevel:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.Debug.setLogLevel(n)}))}},f={promptPush:function(n){return new Promise((function(e,i){var o;g&&i(),null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(o){o.Slidedown.promptPush(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},promptPushCategories:function(n){return new Promise((function(e,i){var o;g&&i(),null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(o){o.Slidedown.promptPushCategories(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},promptSms:function(n){return new Promise((function(e,i){var o;g&&i(),null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(o){o.Slidedown.promptSms(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},promptEmail:function(n){return new Promise((function(e,i){var o;g&&i(),null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(o){o.Slidedown.promptEmail(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},promptSmsAndEmail:function(n){return new Promise((function(e,i){var o;g&&i(),null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(o){o.Slidedown.promptSmsAndEmail(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},addEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.Slidedown.addEventListener(n,e)}))},removeEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.Slidedown.removeEventListener(n,e)}))}},l={setDefaultUrl:function(n){return new Promise((function(e,i){var o;g&&i(),null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(o){o.Notifications.setDefaultUrl(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},setDefaultTitle:function(n){return new Promise((function(e,i){var o;g&&i(),null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(o){o.Notifications.setDefaultTitle(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},isPushSupported:function(){return"undefined"!=typeof PushSubscriptionOptions&&PushSubscriptionOptions.prototype.hasOwnProperty("applicationServerKey")||window.safari&&void 0!==window.safari.pushNotification||window.top!==window&&"Apple Computer, Inc."===navigator.vendor&&"MacIntel"===navigator.platform},getPermissionStatus:function(n){return new Promise((function(e,i){var o;g&&i(),null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(o){o.Notifications.getPermissionStatus(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},requestPermission:function(){return new Promise((function(n,e){var i;g&&e(),null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.Notifications.requestPermission().then((function(e){return n(e)})).catch((function(n){return e(n)}))}))}))},addEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.Notifications.addEventListener(n,e)}))},removeEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.Notifications.removeEventListener(n,e)}))}};var v,p="onesignal-sdk",w="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js",h=!1,g=!1;window&&(window.OneSignalDeferred=window.OneSignalDeferred||[],(v=document.createElement("script")).id=p,v.defer=!0,v.src=w,v.onerror=function(){g=!0},document.head.appendChild(v));var m=function(){function n(){this.User=s,this.Session=c,this.Debug=a,this.Slidedown=f,this.Notifications=l,this.login=t,this.logout=r,this.setConsentGiven=u,this.setConsentRequired=d}return n.prototype.init=function(n){if(h)return Promise.reject("OneSignal is already initialized.");if(!n||!n.appId)throw new Error("You need to provide your OneSignal appId.");return document?new Promise((function(e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.init(n).then((function(){h=!0,e()}))}))})):Promise.reject("Document is not defined.")},n}();m.ɵprov=o.ɵɵdefineInjectable({factory:function(){return new m},token:m,providedIn:"root"}),m.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],m.ctorParameters=function(){return[]};var S=function(){function n(){}return n.prototype.ngOnInit=function(){},n}();S.decorators=[{type:e.Component,args:[{selector:"onesignal-onesignal-ngx",template:"\n    <p>\n      onesignal-ngx works!\n    </p>\n  "}]}],S.ctorParameters=function(){return[]};var O=function(){};O.decorators=[{type:e.NgModule,args:[{declarations:[S],imports:[],exports:[S]}]}],n.OneSignal=m,n.OnesignalNgxComponent=S,n.OnesignalNgxModule=O,Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=onesignal-ngx.umd.min.js.map