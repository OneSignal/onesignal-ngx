!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("onesignal-ngx",["exports","@angular/core"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self)["onesignal-ngx"]={},n.ng.core)}(this,(function(n,e){"use strict";function i(n){if(n&&n.__esModule)return n;var e=Object.create(null);return n&&Object.keys(n).forEach((function(i){if("default"!==i){var t=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,t.get?t:{enumerable:!0,get:function(){return n[i]}})}})),e.default=n,Object.freeze(e)}var t=i(e);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */Object.create;function o(n,e){var i="function"==typeof Symbol&&n[Symbol.iterator];if(!i)return n;var t,o,r=i.call(n),s=[];try{for(;(void 0===e||e-- >0)&&!(t=r.next()).done;)s.push(t.value)}catch(n){o={error:n}}finally{try{t&&!t.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return s}function r(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(o(arguments[e]));return n}Object.create;var s=!1,u=function(){function n(){var n=this;this.isOneSignalInitialized=!1,this.ngOneSignalFunctionQueue=[],this.doesOneSignalExist=function(){return!!window.OneSignalDeferred},this.processQueuedOneSignalFunctions=function(){n.ngOneSignalFunctionQueue.forEach((function(e){var i,t,o=e.name,s=e.args,u=e.namespaceName,a=e.promiseResolver;a&&u?(i=n[u])[o].apply(i,r(s)).then((function(n){a(n)})):u&&(t=window.OneSignalDeferred[u])[o].apply(t,r(s))}))}}return n.prototype.handleOnLoad=function(n,e){var i=this;!0,window.OneSignalDeferred=window.OneSignalDeferred||[],window.OneSignalDeferred.push((function(n){n.init(e)})),window.OneSignalDeferred.push((function(){i.processQueuedOneSignalFunctions(),n()}))},n.prototype.handleOnError=function(n){s=!0,this.processQueuedOneSignalFunctions(),n()},n.prototype.init=function(n){var e=this;return new Promise((function(i){if(e.isOneSignalInitialized)i();else{if(!n||!n.appId)throw new Error("You need to provide your OneSignal appId.");if(document){var t=document.createElement("script");t.id="onesignal-sdk",t.defer=!0,t.src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js",t.onload=function(){e.handleOnLoad(i,n)},t.onerror=function(){e.handleOnError(i)},document.head.appendChild(t)}else i()}}))},n.prototype.isPushSupported=function(){var n="undefined"!=typeof PushSubscriptionOptions&&PushSubscriptionOptions.prototype.hasOwnProperty("applicationServerKey"),e="Apple Computer, Inc."===navigator.vendor&&window.top!==window,i=void 0!==window.safari&&void 0!==window.safari.pushNotification||e;return n||i},n.prototype.login=function(n,e){var i=this;return new Promise((function(t,o){s&&o(),i.doesOneSignalExist()?window.OneSignalDeferred.push((function(i){i.login(n,e).then((function(n){return t(n)})).catch((function(n){return o(n)}))})):i.ngOneSignalFunctionQueue.push({name:"login",namespaceName:"",args:arguments,promiseResolver:t})}))},n.prototype.logout=function(){var n=this;return new Promise((function(e,i){s&&i(),n.doesOneSignalExist()?window.OneSignalDeferred.push((function(n){n.logout().then((function(n){return e(n)})).catch((function(n){return i(n)}))})):n.ngOneSignalFunctionQueue.push({name:"logout",namespaceName:"",args:arguments,promiseResolver:e})}))},n.prototype.setConsentGiven=function(n){var e=this;return new Promise((function(i,t){s&&t(),e.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.setConsentGiven(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"setConsentGiven",namespaceName:"",args:arguments,promiseResolver:i})}))},n.prototype.setConsentRequired=function(n){var e=this;return new Promise((function(i,t){s&&t(),e.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.setConsentRequired(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"setConsentRequired",namespaceName:"",args:arguments,promiseResolver:i})}))},n.prototype.setDefaultUrl=function(n){var e=this;return new Promise((function(i,t){s&&t(),e.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.Notifications.setDefaultUrl(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"setDefaultUrl",namespaceName:"Notifications",args:arguments,promiseResolver:i})}))},n.prototype.setDefaultTitle=function(n){var e=this;return new Promise((function(i,t){s&&t(),e.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.Notifications.setDefaultTitle(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"setDefaultTitle",namespaceName:"Notifications",args:arguments,promiseResolver:i})}))},n.prototype.getPermissionStatus=function(n){var e=this;return new Promise((function(i,t){s&&t(),e.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.Notifications.getPermissionStatus(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"getPermissionStatus",namespaceName:"Notifications",args:arguments,promiseResolver:i})}))},n.prototype.requestPermission=function(){var n=this;return new Promise((function(e,i){s&&i(),n.doesOneSignalExist()?window.OneSignalDeferred.push((function(n){n.Notifications.requestPermission().then((function(n){return e(n)})).catch((function(n){return i(n)}))})):n.ngOneSignalFunctionQueue.push({name:"requestPermission",namespaceName:"Notifications",args:arguments,promiseResolver:e})}))},n.prototype.addNotificationsEventListener=function(n,e){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(i){i.addNotificationsEventListener(n,e)})):this.ngOneSignalFunctionQueue.push({name:"addNotificationsEventListener",namespaceName:"Notifications",args:arguments})},n.prototype.removeNotificationsEventListener=function(n,e){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(i){i.removeNotificationsEventListener(n,e)})):this.ngOneSignalFunctionQueue.push({name:"removeNotificationsEventListener",namespaceName:"Notifications",args:arguments})},n.prototype.promptPush=function(n){var e=this;return new Promise((function(i,t){s&&t(),e.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.Slidedown.promptPush(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"promptPush",namespaceName:"Slidedown",args:arguments,promiseResolver:i})}))},n.prototype.promptPushCategories=function(n){var e=this;return new Promise((function(i,t){s&&t(),e.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.Slidedown.promptPushCategories(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"promptPushCategories",namespaceName:"Slidedown",args:arguments,promiseResolver:i})}))},n.prototype.promptSms=function(n){var e=this;return new Promise((function(i,t){s&&t(),e.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.Slidedown.promptSms(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"promptSms",namespaceName:"Slidedown",args:arguments,promiseResolver:i})}))},n.prototype.promptEmail=function(n){var e=this;return new Promise((function(i,t){s&&t(),e.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.Slidedown.promptEmail(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"promptEmail",namespaceName:"Slidedown",args:arguments,promiseResolver:i})}))},n.prototype.promptSmsAndEmail=function(n){var e=this;return new Promise((function(i,t){s&&t(),e.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.Slidedown.promptSmsAndEmail(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"promptSmsAndEmail",namespaceName:"Slidedown",args:arguments,promiseResolver:i})}))},n.prototype.addSlidedownEventListener=function(n,e){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(i){i.addSlidedownEventListener(n,e)})):this.ngOneSignalFunctionQueue.push({name:"addSlidedownEventListener",namespaceName:"Slidedown",args:arguments})},n.prototype.removeSlidedownEventListener=function(n,e){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(i){i.removeSlidedownEventListener(n,e)})):this.ngOneSignalFunctionQueue.push({name:"removeSlidedownEventListener",namespaceName:"Slidedown",args:arguments})},n.prototype.setLogLevel=function(n){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.setLogLevel(n)})):this.ngOneSignalFunctionQueue.push({name:"setLogLevel",namespaceName:"Debug",args:arguments})},n.prototype.sendOutcome=function(n,e){var i=this;return new Promise((function(t,o){s&&o(),i.doesOneSignalExist()?window.OneSignalDeferred.push((function(i){i.Session.sendOutcome(n,e).then((function(n){return t(n)})).catch((function(n){return o(n)}))})):i.ngOneSignalFunctionQueue.push({name:"sendOutcome",namespaceName:"Session",args:arguments,promiseResolver:t})}))},n.prototype.sendUniqueOutcome=function(n){var e=this;return new Promise((function(i,t){s&&t(),e.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.Session.sendUniqueOutcome(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"sendUniqueOutcome",namespaceName:"Session",args:arguments,promiseResolver:i})}))},n.prototype.addAlias=function(n,e){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(i){i.addAlias(n,e)})):this.ngOneSignalFunctionQueue.push({name:"addAlias",namespaceName:"User",args:arguments})},n.prototype.addAliases=function(n){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.addAliases(n)})):this.ngOneSignalFunctionQueue.push({name:"addAliases",namespaceName:"User",args:arguments})},n.prototype.removeAlias=function(n){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.removeAlias(n)})):this.ngOneSignalFunctionQueue.push({name:"removeAlias",namespaceName:"User",args:arguments})},n.prototype.removeAliases=function(n){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.removeAliases(n)})):this.ngOneSignalFunctionQueue.push({name:"removeAliases",namespaceName:"User",args:arguments})},n.prototype.addEmail=function(n){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.addEmail(n)})):this.ngOneSignalFunctionQueue.push({name:"addEmail",namespaceName:"User",args:arguments})},n.prototype.removeEmail=function(n){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.removeEmail(n)})):this.ngOneSignalFunctionQueue.push({name:"removeEmail",namespaceName:"User",args:arguments})},n.prototype.addSms=function(n){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.addSms(n)})):this.ngOneSignalFunctionQueue.push({name:"addSms",namespaceName:"User",args:arguments})},n.prototype.removeSms=function(n){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(e){e.removeSms(n)})):this.ngOneSignalFunctionQueue.push({name:"removeSms",namespaceName:"User",args:arguments})},n.prototype.optIn=function(){var n=this;return new Promise((function(e,i){s&&i(),n.doesOneSignalExist()?window.OneSignalDeferred.push((function(n){n.PushSubscription.optIn().then((function(n){return e(n)})).catch((function(n){return i(n)}))})):n.ngOneSignalFunctionQueue.push({name:"optIn",namespaceName:"PushSubscription",args:arguments,promiseResolver:e})}))},n.prototype.optOut=function(){var n=this;return new Promise((function(e,i){s&&i(),n.doesOneSignalExist()?window.OneSignalDeferred.push((function(n){n.PushSubscription.optOut().then((function(n){return e(n)})).catch((function(n){return i(n)}))})):n.ngOneSignalFunctionQueue.push({name:"optOut",namespaceName:"PushSubscription",args:arguments,promiseResolver:e})}))},n.prototype.addPushSubscriptionEventListener=function(n,e){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(i){i.addPushSubscriptionEventListener(n,e)})):this.ngOneSignalFunctionQueue.push({name:"addPushSubscriptionEventListener",namespaceName:"PushSubscription",args:arguments})},n.prototype.removePushSubscriptionEventListener=function(n,e){this.doesOneSignalExist()?window.OneSignalDeferred.push((function(i){i.removePushSubscriptionEventListener(n,e)})):this.ngOneSignalFunctionQueue.push({name:"removePushSubscriptionEventListener",namespaceName:"PushSubscription",args:arguments})},n}();u.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new u},token:u,providedIn:"root"}),u.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],u.ctorParameters=function(){return[]};var a=function(){function n(){}return n.prototype.ngOnInit=function(){},n}();a.decorators=[{type:e.Component,args:[{selector:"onesignal-onesignal-ngx",template:"\n    <p>\n      onesignal-ngx works!\n    </p>\n  "}]}],a.ctorParameters=function(){return[]};var c=function(){};c.decorators=[{type:e.NgModule,args:[{declarations:[a],imports:[],exports:[a]}]}],n.OneSignal=u,n.OnesignalNgxComponent=a,n.OnesignalNgxModule=c,Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=onesignal-ngx.umd.min.js.map