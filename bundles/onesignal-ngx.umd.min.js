!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("onesignal-ngx",["exports","@angular/core"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self)["onesignal-ngx"]={},n.ng.core)}(this,(function(n,e){"use strict";function i(n){if(n&&n.__esModule)return n;var e=Object.create(null);return n&&Object.keys(n).forEach((function(i){if("default"!==i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}})),e.default=n,Object.freeze(e)}var o=i(e);function r(n,e){return new Promise((function(i,o){var r;S?o(new Error("OneSignal script failed to load.")):null===(r=window.OneSignalDeferred)||void 0===r||r.push((function(o){o.login(n,e).then((function(){return i()}))}))}))}function t(){return new Promise((function(n,e){var i;S?e(new Error("OneSignal script failed to load.")):null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(e){e.logout().then((function(){return n()}))}))}))}function u(n){return new Promise((function(e,i){var o;S?i(new Error("OneSignal script failed to load.")):null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(i){i.setConsentGiven(n).then((function(){return e()}))}))}))}function d(n){return new Promise((function(e,i){var o;S?i(new Error("OneSignal script failed to load.")):null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(i){i.setConsentRequired(n).then((function(){return e()}))}))}))}var l={get onesignalId(){var n,e;return null===(e=null===(n=window.OneSignal)||void 0===n?void 0:n.User)||void 0===e?void 0:e.onesignalId},get externalId(){var n,e;return null===(e=null===(n=window.OneSignal)||void 0===n?void 0:n.User)||void 0===e?void 0:e.externalId},addAlias:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.addAlias(n,e)}))},addAliases:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.addAliases(n)}))},removeAlias:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeAlias(n)}))},removeAliases:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeAliases(n)}))},addEmail:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.addEmail(n)}))},removeEmail:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeEmail(n)}))},addSms:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.addSms(n)}))},removeSms:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeSms(n)}))},addTag:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.addTag(n,e)}))},addTags:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.addTags(n)}))},removeTag:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeTag(n)}))},removeTags:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeTags(n)}))},getTags:function(){var n,e;return null===(n=window.OneSignalDeferred)||void 0===n||n.push((function(n){e=n.User.getTags()})),e},addEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.addEventListener(n,e)}))},removeEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.removeEventListener(n,e)}))},setLanguage:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.setLanguage(n)}))},getLanguage:function(){var n,e;return null===(n=window.OneSignalDeferred)||void 0===n||n.push((function(n){e=n.User.getLanguage()})),e},PushSubscription:{get id(){var n,e,i;return null===(i=null===(e=null===(n=window.OneSignal)||void 0===n?void 0:n.User)||void 0===e?void 0:e.PushSubscription)||void 0===i?void 0:i.id},get token(){var n,e,i;return null===(i=null===(e=null===(n=window.OneSignal)||void 0===n?void 0:n.User)||void 0===e?void 0:e.PushSubscription)||void 0===i?void 0:i.token},get optedIn(){var n,e,i;return null===(i=null===(e=null===(n=window.OneSignal)||void 0===n?void 0:n.User)||void 0===e?void 0:e.PushSubscription)||void 0===i?void 0:i.optedIn},optIn:function(){return new Promise((function(n,e){var i;S?e(new Error("OneSignal script failed to load.")):null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(e){e.User.PushSubscription.optIn().then((function(){return n()}))}))}))},optOut:function(){return new Promise((function(n,e){var i;S?e(new Error("OneSignal script failed to load.")):null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(e){e.User.PushSubscription.optOut().then((function(){return n()}))}))}))},addEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.PushSubscription.addEventListener(n,e)}))},removeEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.PushSubscription.removeEventListener(n,e)}))}}},a={sendOutcome:function(n,e){return new Promise((function(i,o){var r;S?o(new Error("OneSignal script failed to load.")):null===(r=window.OneSignalDeferred)||void 0===r||r.push((function(o){o.Session.sendOutcome(n,e).then((function(){return i()}))}))}))},sendUniqueOutcome:function(n){return new Promise((function(e,i){var o;S?i(new Error("OneSignal script failed to load.")):null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(i){i.Session.sendUniqueOutcome(n).then((function(){return e()}))}))}))}},s={setLogLevel:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.Debug.setLogLevel(n)}))}},f={promptPush:function(n){return new Promise((function(e,i){var o;S?i(new Error("OneSignal script failed to load.")):null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(i){i.Slidedown.promptPush(n).then((function(){return e()}))}))}))},promptPushCategories:function(n){return new Promise((function(e,i){var o;S?i(new Error("OneSignal script failed to load.")):null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(i){i.Slidedown.promptPushCategories(n).then((function(){return e()}))}))}))},promptSms:function(n){return new Promise((function(e,i){var o;S?i(new Error("OneSignal script failed to load.")):null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(i){i.Slidedown.promptSms(n).then((function(){return e()}))}))}))},promptEmail:function(n){return new Promise((function(e,i){var o;S?i(new Error("OneSignal script failed to load.")):null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(i){i.Slidedown.promptEmail(n).then((function(){return e()}))}))}))},promptSmsAndEmail:function(n){return new Promise((function(e,i){var o;S?i(new Error("OneSignal script failed to load.")):null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(i){i.Slidedown.promptSmsAndEmail(n).then((function(){return e()}))}))}))},addEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.Slidedown.addEventListener(n,e)}))},removeEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.Slidedown.removeEventListener(n,e)}))}},c={get permissionNative(){var n,e,i;return null!==(i=null===(e=null===(n=window.OneSignal)||void 0===n?void 0:n.Notifications)||void 0===e?void 0:e.permissionNative)&&void 0!==i?i:"default"},get permission(){var n,e,i;return null!==(i=null===(e=null===(n=window.OneSignal)||void 0===n?void 0:n.Notifications)||void 0===e?void 0:e.permission)&&void 0!==i&&i},setDefaultUrl:function(n){return new Promise((function(e,i){var o;S?i(new Error("OneSignal script failed to load.")):null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(i){i.Notifications.setDefaultUrl(n).then((function(){return e()}))}))}))},setDefaultTitle:function(n){return new Promise((function(e,i){var o;S?i(new Error("OneSignal script failed to load.")):null===(o=window.OneSignalDeferred)||void 0===o||o.push((function(i){i.Notifications.setDefaultTitle(n).then((function(){return e()}))}))}))},isPushSupported:function(){return"undefined"!=typeof PushSubscriptionOptions&&PushSubscriptionOptions.prototype.hasOwnProperty("applicationServerKey")||window.safari&&void 0!==window.safari.pushNotification||window.top!==window&&"Apple Computer, Inc."===navigator.vendor&&"MacIntel"===navigator.platform},requestPermission:function(){return new Promise((function(n,e){var i;S?e(new Error("OneSignal script failed to load.")):null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(e){e.Notifications.requestPermission().then((function(){return n()}))}))}))},addEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.Notifications.addEventListener(n,e)}))},removeEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.Notifications.removeEventListener(n,e)}))}};var v,w="onesignal-sdk",p="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js",g=!1,S=!1;"undefined"!=typeof window&&(window.OneSignalDeferred=window.OneSignalDeferred||[],(v=document.createElement("script")).id=w,v.defer=!0,v.src=p,v.onerror=function(){S=!0},document.head.appendChild(v));var h=function(){function n(){this.User=l,this.Session=a,this.Debug=s,this.Slidedown=f,this.Notifications=c,this.login=r,this.logout=t,this.setConsentGiven=u,this.setConsentRequired=d}return n.prototype.init=function(n){if(g)return Promise.reject("OneSignal is already initialized.");if(!n||!n.appId)throw new Error("You need to provide your OneSignal appId.");return document?new Promise((function(e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.init(n).then((function(){g=!0,e()}))}))})):Promise.reject("Document is not defined.")},n}();h.ɵprov=o.ɵɵdefineInjectable({factory:function(){return new h},token:h,providedIn:"root"}),h.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],h.ctorParameters=function(){return[]};var m=function(){function n(){}return n.prototype.ngOnInit=function(){},n}();m.decorators=[{type:e.Component,args:[{selector:"onesignal-onesignal-ngx",template:"\n    <p>\n      onesignal-ngx works!\n    </p>\n  "}]}],m.ctorParameters=function(){return[]};var O=function(){};O.decorators=[{type:e.NgModule,args:[{declarations:[m],imports:[],exports:[m]}]}],n.OneSignal=h,n.OnesignalNgxComponent=m,n.OnesignalNgxModule=O,Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=onesignal-ngx.umd.min.js.map