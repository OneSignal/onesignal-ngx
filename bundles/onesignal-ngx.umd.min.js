!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("onesignal-ngx",["exports","@angular/core"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self)["onesignal-ngx"]={},n.ng.core)}(this,(function(n,e){"use strict";function i(n){if(n&&n.__esModule)return n;var e=Object.create(null);return n&&Object.keys(n).forEach((function(i){if("default"!==i){var t=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,t.get?t:{enumerable:!0,get:function(){return n[i]}})}})),e.default=n,Object.freeze(e)}var t=i(e);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */Object.create;function o(n,e){var i="function"==typeof Symbol&&n[Symbol.iterator];if(!i)return n;var t,o,r=i.call(n),u=[];try{for(;(void 0===e||e-- >0)&&!(t=r.next()).done;)u.push(t.value)}catch(n){o={error:n}}finally{try{t&&!t.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return u}function r(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(o(arguments[e]));return n}Object.create;var u=function(){function n(){var n=this;this.isOneSignalInitialized=!1,this.ngOneSignalFunctionQueue=[],this.injectScript=function(){var n=document.createElement("script");n.id="onesignal-sdk",n.src="https://cdn.onesignal.com/sdks/OneSignalSDK.js",n.async=!0,document.head.appendChild(n)},this.doesOneSignalExist=function(){return!!window.OneSignal},this.processQueuedOneSignalFunctions=function(){n.ngOneSignalFunctionQueue.forEach((function(e){var i,t=e.name,o=e.args,u=e.promiseResolver;u?n[t].apply(n,r(o)).then((function(n){u(n)})):(i=window.OneSignal)[t].apply(i,r(o))}))},this.setupOneSignalIfMissing=function(){n.doesOneSignalExist()||(window.OneSignal=window.OneSignal||[])}}return n.prototype.init=function(n){var e=this;return new Promise((function(i){if(!e.isOneSignalInitialized){e.injectScript(),e.setupOneSignalIfMissing(),window.OneSignal.push((function(){window.OneSignal.init(n)}));var t=setTimeout((function(){console.error("OneSignal is not setup correctly.")}),3e4);window.OneSignal.push((function(){clearTimeout(t),e.isOneSignalInitialized=!0,e.processQueuedOneSignalFunctions(),i()}))}}))},n.prototype.on=function(n,e){this.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.on(n,e)})):this.ngOneSignalFunctionQueue.push({name:"on",args:arguments})},n.prototype.off=function(n,e){this.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.off(n,e)})):this.ngOneSignalFunctionQueue.push({name:"off",args:arguments})},n.prototype.once=function(n,e){this.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.once(n,e)})):this.ngOneSignalFunctionQueue.push({name:"once",args:arguments})},n.prototype.isPushNotificationsEnabled=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.isPushNotificationsEnabled(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"isPushNotificationsEnabled",args:arguments,promiseResolver:i})}))},n.prototype.showHttpPrompt=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.showHttpPrompt(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"showHttpPrompt",args:arguments,promiseResolver:i})}))},n.prototype.registerForPushNotifications=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.registerForPushNotifications(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"registerForPushNotifications",args:arguments,promiseResolver:i})}))},n.prototype.setDefaultNotificationUrl=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.setDefaultNotificationUrl(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"setDefaultNotificationUrl",args:arguments,promiseResolver:i})}))},n.prototype.setDefaultTitle=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.setDefaultTitle(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"setDefaultTitle",args:arguments,promiseResolver:i})}))},n.prototype.getTags=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.getTags(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"getTags",args:arguments,promiseResolver:i})}))},n.prototype.sendTag=function(n,e,i){var t=this;return new Promise((function(o,r){t.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.sendTag(n,e,i).then((function(n){return o(n)})).catch((function(n){return r(n)}))})):t.ngOneSignalFunctionQueue.push({name:"sendTag",args:arguments,promiseResolver:o})}))},n.prototype.sendTags=function(n,e){var i=this;return new Promise((function(t,o){i.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.sendTags(n,e).then((function(n){return t(n)})).catch((function(n){return o(n)}))})):i.ngOneSignalFunctionQueue.push({name:"sendTags",args:arguments,promiseResolver:t})}))},n.prototype.deleteTag=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.deleteTag(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"deleteTag",args:arguments,promiseResolver:i})}))},n.prototype.deleteTags=function(n,e){var i=this;return new Promise((function(t,o){i.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.deleteTags(n,e).then((function(n){return t(n)})).catch((function(n){return o(n)}))})):i.ngOneSignalFunctionQueue.push({name:"deleteTags",args:arguments,promiseResolver:t})}))},n.prototype.addListenerForNotificationOpened=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.addListenerForNotificationOpened(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"addListenerForNotificationOpened",args:arguments,promiseResolver:i})}))},n.prototype.setSubscription=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.setSubscription(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"setSubscription",args:arguments,promiseResolver:i})}))},n.prototype.showHttpPermissionRequest=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.showHttpPermissionRequest(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"showHttpPermissionRequest",args:arguments,promiseResolver:i})}))},n.prototype.showNativePrompt=function(){var n=this;return new Promise((function(e,i){n.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.showNativePrompt().then((function(n){return e(n)})).catch((function(n){return i(n)}))})):n.ngOneSignalFunctionQueue.push({name:"showNativePrompt",args:arguments,promiseResolver:e})}))},n.prototype.showSlidedownPrompt=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.showSlidedownPrompt(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"showSlidedownPrompt",args:arguments,promiseResolver:i})}))},n.prototype.showCategorySlidedown=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.showCategorySlidedown(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"showCategorySlidedown",args:arguments,promiseResolver:i})}))},n.prototype.showSmsSlidedown=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.showSmsSlidedown(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"showSmsSlidedown",args:arguments,promiseResolver:i})}))},n.prototype.showEmailSlidedown=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.showEmailSlidedown(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"showEmailSlidedown",args:arguments,promiseResolver:i})}))},n.prototype.showSmsAndEmailSlidedown=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.showSmsAndEmailSlidedown(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"showSmsAndEmailSlidedown",args:arguments,promiseResolver:i})}))},n.prototype.getNotificationPermission=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.getNotificationPermission(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"getNotificationPermission",args:arguments,promiseResolver:i})}))},n.prototype.getUserId=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.getUserId(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"getUserId",args:arguments,promiseResolver:i})}))},n.prototype.getSubscription=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.getSubscription(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"getSubscription",args:arguments,promiseResolver:i})}))},n.prototype.setEmail=function(n,e){var i=this;return new Promise((function(t,o){i.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.setEmail(n,e).then((function(n){return t(n)})).catch((function(n){return o(n)}))})):i.ngOneSignalFunctionQueue.push({name:"setEmail",args:arguments,promiseResolver:t})}))},n.prototype.setSMSNumber=function(n,e){var i=this;return new Promise((function(t,o){i.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.setSMSNumber(n,e).then((function(n){return t(n)})).catch((function(n){return o(n)}))})):i.ngOneSignalFunctionQueue.push({name:"setSMSNumber",args:arguments,promiseResolver:t})}))},n.prototype.logoutEmail=function(){var n=this;return new Promise((function(e,i){n.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.logoutEmail().then((function(n){return e(n)})).catch((function(n){return i(n)}))})):n.ngOneSignalFunctionQueue.push({name:"logoutEmail",args:arguments,promiseResolver:e})}))},n.prototype.logoutSMS=function(){var n=this;return new Promise((function(e,i){n.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.logoutSMS().then((function(n){return e(n)})).catch((function(n){return i(n)}))})):n.ngOneSignalFunctionQueue.push({name:"logoutSMS",args:arguments,promiseResolver:e})}))},n.prototype.setExternalUserId=function(n,e){var i=this;return new Promise((function(t,o){i.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.setExternalUserId(n,e).then((function(n){return t(n)})).catch((function(n){return o(n)}))})):i.ngOneSignalFunctionQueue.push({name:"setExternalUserId",args:arguments,promiseResolver:t})}))},n.prototype.removeExternalUserId=function(){var n=this;return new Promise((function(e,i){n.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.removeExternalUserId().then((function(n){return e(n)})).catch((function(n){return i(n)}))})):n.ngOneSignalFunctionQueue.push({name:"removeExternalUserId",args:arguments,promiseResolver:e})}))},n.prototype.getExternalUserId=function(){var n=this;return new Promise((function(e,i){n.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.getExternalUserId().then((function(n){return e(n)})).catch((function(n){return i(n)}))})):n.ngOneSignalFunctionQueue.push({name:"getExternalUserId",args:arguments,promiseResolver:e})}))},n.prototype.provideUserConsent=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.provideUserConsent(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"provideUserConsent",args:arguments,promiseResolver:i})}))},n.prototype.getEmailId=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.getEmailId(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"getEmailId",args:arguments,promiseResolver:i})}))},n.prototype.getSMSId=function(n){var e=this;return new Promise((function(i,t){e.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.getSMSId(n).then((function(n){return i(n)})).catch((function(n){return t(n)}))})):e.ngOneSignalFunctionQueue.push({name:"getSMSId",args:arguments,promiseResolver:i})}))},n.prototype.sendOutcome=function(n,e){var i=this;return new Promise((function(t,o){i.doesOneSignalExist()?window.OneSignal.push((function(){window.OneSignal.sendOutcome(n,e).then((function(n){return t(n)})).catch((function(n){return o(n)}))})):i.ngOneSignalFunctionQueue.push({name:"sendOutcome",args:arguments,promiseResolver:t})}))},n}();u.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new u},token:u,providedIn:"root"}),u.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],u.ctorParameters=function(){return[]};var s=function(){function n(){}return n.prototype.ngOnInit=function(){},n}();s.decorators=[{type:e.Component,args:[{selector:"onesignal-onesignal-ngx",template:"\n    <p>\n      onesignal-ngx works!\n    </p>\n  "}]}],s.ctorParameters=function(){return[]};var a=function(){};a.decorators=[{type:e.NgModule,args:[{declarations:[s],imports:[],exports:[s]}]}],n.OneSignal=u,n.OnesignalNgxComponent=s,n.OnesignalNgxModule=a,Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=onesignal-ngx.umd.min.js.map