!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("onesignal-ngx",["exports","@angular/core"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self)["onesignal-ngx"]={},n.ng.core)}(this,(function(n,e){"use strict";function i(n){if(n&&n.__esModule)return n;var e=Object.create(null);return n&&Object.keys(n).forEach((function(i){if("default"!==i){var t=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,t.get?t:{enumerable:!0,get:function(){return n[i]}})}})),e.default=n,Object.freeze(e)}var t=i(e);function r(n,e){return new Promise((function(i,t){var r;w&&t(),null===(r=window.OneSignalDeferred)||void 0===r||r.push((function(r){r.login(n,e).then((function(n){return i(n)})).catch((function(n){return t(n)}))}))}))}function o(){return new Promise((function(n,e){var i;w&&e(),null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.logout().then((function(e){return n(e)})).catch((function(n){return e(n)}))}))}))}function u(n){return new Promise((function(e,i){var t;w&&i(),null===(t=window.OneSignalDeferred)||void 0===t||t.push((function(t){t.setConsentGiven(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))}function c(n){return new Promise((function(e,i){var t;w&&i(),null===(t=window.OneSignalDeferred)||void 0===t||t.push((function(t){t.setConsentRequired(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))}var s={addAlias:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.addAlias(n,e)}))},addAliases:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.addAliases(n)}))},removeAlias:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeAlias(n)}))},removeAliases:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeAliases(n)}))},addEmail:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.addEmail(n)}))},removeEmail:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeEmail(n)}))},addSms:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.addSms(n)}))},removeSms:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.User.removeSms(n)}))},PushSubscription:{optIn:function(){return new Promise((function(n,e){var i;w&&e(),null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.PushSubscription.optIn().then((function(e){return n(e)})).catch((function(n){return e(n)}))}))}))},optOut:function(){return new Promise((function(n,e){var i;w&&e(),null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.PushSubscription.optOut().then((function(e){return n(e)})).catch((function(n){return e(n)}))}))}))},addEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.PushSubscription.addEventListener(n,e)}))},removeEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.User.PushSubscription.removeEventListener(n,e)}))}}},f={sendOutcome:function(n,e){return new Promise((function(i,t){var r;w&&t(),null===(r=window.OneSignalDeferred)||void 0===r||r.push((function(r){r.Session.sendOutcome(n,e).then((function(n){return i(n)})).catch((function(n){return t(n)}))}))}))},sendUniqueOutcome:function(n){return new Promise((function(e,i){var t;w&&i(),null===(t=window.OneSignalDeferred)||void 0===t||t.push((function(t){t.Session.sendUniqueOutcome(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))}},d={setLogLevel:function(n){var e;null===(e=window.OneSignalDeferred)||void 0===e||e.push((function(e){e.Debug.setLogLevel(n)}))}},a={promptPush:function(n){return new Promise((function(e,i){var t;w&&i(),null===(t=window.OneSignalDeferred)||void 0===t||t.push((function(t){t.Slidedown.promptPush(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},promptPushCategories:function(n){return new Promise((function(e,i){var t;w&&i(),null===(t=window.OneSignalDeferred)||void 0===t||t.push((function(t){t.Slidedown.promptPushCategories(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},promptSms:function(n){return new Promise((function(e,i){var t;w&&i(),null===(t=window.OneSignalDeferred)||void 0===t||t.push((function(t){t.Slidedown.promptSms(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},promptEmail:function(n){return new Promise((function(e,i){var t;w&&i(),null===(t=window.OneSignalDeferred)||void 0===t||t.push((function(t){t.Slidedown.promptEmail(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},promptSmsAndEmail:function(n){return new Promise((function(e,i){var t;w&&i(),null===(t=window.OneSignalDeferred)||void 0===t||t.push((function(t){t.Slidedown.promptSmsAndEmail(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},addEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.Slidedown.addEventListener(n,e)}))},removeEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.Slidedown.removeEventListener(n,e)}))}},l={setDefaultUrl:function(n){return new Promise((function(e,i){var t;w&&i(),null===(t=window.OneSignalDeferred)||void 0===t||t.push((function(t){t.Notifications.setDefaultUrl(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},setDefaultTitle:function(n){return new Promise((function(e,i){var t;w&&i(),null===(t=window.OneSignalDeferred)||void 0===t||t.push((function(t){t.Notifications.setDefaultTitle(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},isPushSupported:function(){return"undefined"!=typeof PushSubscriptionOptions&&PushSubscriptionOptions.prototype.hasOwnProperty("applicationServerKey")||window.safari&&void 0!==window.safari.pushNotification||window.top!==window&&"Apple Computer, Inc."===navigator.vendor&&"MacIntel"===navigator.platform},getPermissionStatus:function(n){return new Promise((function(e,i){var t;w&&i(),null===(t=window.OneSignalDeferred)||void 0===t||t.push((function(t){t.Notifications.getPermissionStatus(n).then((function(n){return e(n)})).catch((function(n){return i(n)}))}))}))},requestPermission:function(){return new Promise((function(n,e){var i;w&&e(),null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.Notifications.requestPermission().then((function(e){return n(e)})).catch((function(n){return e(n)}))}))}))},addEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.Notifications.addEventListener(n,e)}))},removeEventListener:function(n,e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.Notifications.removeEventListener(n,e)}))}};var p,v=!1,w=!1;window.OneSignalDeferred=window.OneSignalDeferred||[],(p=document.createElement("script")).id="onesignal-sdk",p.defer=!0,p.src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js",p.onerror=function(){w=!0},document.head.appendChild(p);var h=function(){function n(){this.User=s,this.Session=f,this.Debug=d,this.Slidedown=a,this.Notifications=l,this.login=r,this.logout=o,this.setConsentGiven=u,this.setConsentRequired=c}return n.prototype.init=function(n){if(v)return Promise.reject("OneSignal is already initialized.");if(!n||!n.appId)throw new Error("You need to provide your OneSignal appId.");return document?new Promise((function(e){var i;null===(i=window.OneSignalDeferred)||void 0===i||i.push((function(i){i.init(n).then((function(){v=!0,e()}))}))})):Promise.reject("Document is not defined.")},n}();h.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new h},token:h,providedIn:"root"}),h.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],h.ctorParameters=function(){return[]};var m=function(){function n(){}return n.prototype.ngOnInit=function(){},n}();m.decorators=[{type:e.Component,args:[{selector:"onesignal-onesignal-ngx",template:"\n    <p>\n      onesignal-ngx works!\n    </p>\n  "}]}],m.ctorParameters=function(){return[]};var g=function(){};g.decorators=[{type:e.NgModule,args:[{declarations:[m],imports:[],exports:[m]}]}],n.OneSignal=h,n.OnesignalNgxComponent=m,n.OnesignalNgxModule=g,Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=onesignal-ngx.umd.min.js.map