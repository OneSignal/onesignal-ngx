{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","../../../projects/onesignal-ngx/src/lib/onesignal-ngx.service.ts","../../../projects/onesignal-ngx/src/lib/onesignal-ngx.component.ts","../../../projects/onesignal-ngx/src/lib/onesignal-ngx.module.ts"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","Object","create","oneSignalLogin","externalId","jwtToken","isOneSignalScriptFailed","Error","_a","window","OneSignalDeferred","oneSignal","login","catch","error","oneSignalLogout","logout","oneSignalSetConsentGiven","consent","setConsentGiven","oneSignalSetConsentRequired","requiresConsent","setConsentRequired","UserNamespace","onesignalId","_b","OneSignal","User","addAlias","id","addAliases","aliases","removeAlias","removeAliases","labels","addEmail","email","removeEmail","addSms","smsNumber","removeSms","addTag","key","addTags","tags","removeTag","removeTags","keys","getTags","retVal","_d","addEventListener","event","listener","removeEventListener","setLanguage","language","getLanguage","trackEvent","name","properties","PushSubscription","_c","token","optedIn","optIn","optOut","SessionNamespace","sendOutcome","outcomeName","outcomeWeight","Session","sendUniqueOutcome","DebugNamespace","setLogLevel","logLevel","Debug","SlidedownNamespace","promptPush","options","Slidedown","promptPushCategories","promptSms","promptEmail","promptSmsAndEmail","NotificationsNamespace","permissionNative","Notifications","permission","setDefaultUrl","url","setDefaultTitle","title","isPushSupported","PushSubscriptionOptions","prototype","hasOwnProperty","safari","pushNotification","top","navigator","vendor","platform","requestPermission","script","ONESIGNAL_SDK_ID","ONE_SIGNAL_SCRIPT_SRC","isOneSignalInitialized","document","createElement","defer","src","onerror","head","appendChild","init","appId","undefined","welcomeNotification","disabled","disable","Injectable","args","providedIn","OnesignalNgxComponent","ngOnInit","Component","selector","template","NgModule","declarations","imports","exports"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","export interface AutoPromptOptions { force?: boolean; forceSlidedownOverNative?: boolean; slidedownPromptOptions?: IOneSignalAutoPromptOptions; }\nexport interface IOneSignalAutoPromptOptions { force?: boolean; forceSlidedownOverNative?: boolean; isInUpdateMode?: boolean; categoryOptions?: IOneSignalCategories; }\nexport interface IOneSignalCategories { positiveUpdateButton: string; negativeUpdateButton: string; savingButtonText: string; errorButtonText: string; updateMessage: string; tags: IOneSignalTagCategory[]; }\nexport interface IOneSignalTagCategory { tag: string; label: string; checked?: boolean; }\nexport type PushSubscriptionNamespaceProperties = { id: string | null | undefined; token: string | null | undefined; optedIn: boolean; };\nexport type SubscriptionChangeEvent = { previous: PushSubscriptionNamespaceProperties; current: PushSubscriptionNamespaceProperties; };\nexport type NotificationEventName = 'click' | 'foregroundWillDisplay' | 'dismiss' | 'permissionChange' | 'permissionPromptDisplay';\nexport type SlidedownEventName = 'slidedownAllowClick' | 'slidedownCancelClick' | 'slidedownClosed' | 'slidedownQueued' | 'slidedownShown';\nexport type OneSignalDeferredLoadedCallback = (onesignal: IOneSignalOneSignal) => void;\nexport interface IOSNotification {\n  /**\n   * The OneSignal notification id;\n   *  - Primary id on OneSignal's REST API and dashboard\n   */\n  readonly notificationId: string;\n\n  /**\n   * Visible title text on the notification\n   */\n  readonly title?: string;\n\n  /**\n   * Visible body text on the notification\n   */\n  readonly body: string;\n\n  /**\n   * Visible icon the notification; URL format\n   */\n  readonly icon?: string;\n\n  /**\n   * Visible small badgeIcon that displays on some devices; URL format\n   * Example: On Android's status bar\n   */\n  readonly badgeIcon?: string;\n\n  /**\n   * Visible image on the notification; URL format\n   */\n  readonly image?: string;\n\n  /**\n   * Visible buttons on the notification\n   */\n  readonly actionButtons?: IOSNotificationActionButton[];\n\n  /**\n   * If this value is the same as existing notification, it will replace it\n   * Can be set when creating the notification with \"Web Push Topic\" on the dashboard\n   * or web_push_topic from the REST API.\n   */\n  readonly topic?: string;\n\n  /**\n   * Custom object that was sent with the notification;\n   * definable when creating the notification from the OneSignal REST API or dashboard\n   */\n  readonly additionalData?: object;\n\n  /**\n   * URL to open when clicking or tapping on the notification\n   */\n  readonly launchURL?: string;\n\n  /**\n   * Confirm the push was received by reporting back to OneSignal\n   */\n  readonly confirmDelivery: boolean;\n}\n\nexport interface IOSNotificationActionButton {\n  /**\n   * Any unique identifier to represent which button was clicked. This is typically passed back to the service worker\n   * and host page through events to identify which button was clicked.\n   * e.g. 'like-button'\n   */\n  readonly actionId: string;\n  /**\n   * The notification action button's text.\n   */\n  readonly text: string;\n  /**\n   * A valid publicly reachable HTTPS URL to an image.\n   */\n  readonly icon?: string;\n  /**\n   * The URL to open the web browser to when this action button is clicked.\n   */\n  readonly launchURL?: string;\n}\n\nexport interface NotificationClickResult {\n  readonly actionId?: string;\n  readonly url?: string;\n}\n\nexport type NotificationEventTypeMap = {\n  'click': NotificationClickEvent;\n  'foregroundWillDisplay': NotificationForegroundWillDisplayEvent;\n  'dismiss': NotificationDismissEvent;\n  'permissionChange': boolean;\n  'permissionPromptDisplay': void;\n};\n\nexport interface NotificationForegroundWillDisplayEvent {\n  readonly notification: IOSNotification;\n  preventDefault(): void;\n}\n\nexport interface NotificationDismissEvent {\n  notification: IOSNotification;\n}\n\nexport interface NotificationClickEvent {\n  readonly notification: IOSNotification;\n  readonly result: NotificationClickResult;\n}\n\nexport type UserChangeEvent = {\n  current: UserNamespaceProperties;\n};\nexport type UserNamespaceProperties = {\n  onesignalId: string | undefined;\n  externalId: string | undefined;\n};\n\nexport interface IInitObject {\n  appId: string;\n  subdomainName?: string;\n  requiresUserPrivacyConsent?: boolean;\n  promptOptions?: {\n    slidedown: {\n      prompts: {\n        /**\n         * Whether to automatically display the prompt.\n         * `true` will display the prompt based on the delay options.\n         * `false` will prevent the prompt from displaying until the Slidedowns methods are used.\n         */\n        autoPrompt: boolean;\n\n        /**\n         * Only available for type: category. Up to 10 categories.\n         * @example\n         *  categories: [{ tag: 'local_news', label: 'Local News' }] // The user will be tagged with local_news but will see \"Local News\" in the prompt.\n         */\n        categories: {\n          /** Should identify the action. */\n          tag: string;\n\n          /** What the user will see. */\n          label: string;\n        }[];\n\n        /**\n         * The delay options for the prompt.\n         * @example delay: { pageViews: 3, timeDelay: 20 } // The user will not be shown the prompt until 20 seconds after the 3rd page view.\n         */\n        delay: {\n          /** The number of pages a user needs to visit before the prompt is displayed. */\n          pageViews?: number;\n\n          /** The number of seconds a user needs to wait before the prompt is displayed.Both options must be satisfied for the prompt to display */\n          timeDelay?: number;\n        };\n\n        /**\n         * The text to display in the prompt.\n         */\n        text?: {\n          /** The callout asking the user to opt-in. Up to 90 characters. */\n          actionMessage?: string;\n\n          /** Triggers the opt-in. Up to 15 characters. */\n          acceptButton?: string;\n\n          /** Cancels opt-in. Up to 15 characters. */\n          cancelMessage?: string;\n\n          /** The message of the confirmation prompt displayed after the email and/or phone number is provided. Up to 90 characters. */\n          confirmMessage?: string;\n\n          /** Identifies the email text field. Up to 15 characters. */\n          emailLabel?: string;\n\n          /** Cancels the category update. Up to 15 characters. */\n          negativeUpdateButton?: string;\n\n          /** Saves the updated category tags. Up to 15 characters. */\n          positiveUpdateButton?: string;\n\n          /** Identifies the phone number text field. Up to 15 characters. */\n          smsLabel?: string;\n\n          /** A different message shown to subscribers presented the prompt again to update categories. Up to 90 characters. */\n          updateMessage?: string;\n        };\n\n        /**\n         * The type of prompt to display.\n         * `push` which is the Slide Prompt without categories.\n         * `category` which is the Slide Prompt with categories.\n         * `sms` only asks for phone number.\n         * `email` only asks for email address.\n         * `smsAndEmail` asks for both phone number and email address.\n         */\n        type: 'push' | 'category' | 'sms' | 'email' | 'smsAndEmail';\n      }[];\n    };\n  };\n  welcomeNotification?: {\n    /**\n     * Disables sending a welcome notification to new site visitors. If you want to disable welcome notifications, this is the only option you need.\n     * @deprecated Use 'disable' instead. This will be removed in a future version.\n     */\n    disabled?: boolean;\n\n    /**\n     * Disables sending a welcome notification to new site visitors. If you want to disable welcome notifications, this is the only option you need.\n     */\n    disable?: boolean;\n\n    /**\n     * The welcome notification's message. You can localize this to your own language.\n     * If left blank or set to blank, the default of 'Thanks for subscribing!' will be used.\n     */\n    message: string;\n\n    /**\n     * The welcome notification's title. You can localize this to your own language. If not set, or left blank, the site's title will be used.\n     * Set to one space ' ' to clear the title, although this is not recommended.\n     */\n    title?: string;\n\n    /**\n     * By default, clicking the welcome notification does not open any link.\n     * This is recommended because the user has just visited your site and subscribed.\n     */\n    url?: string;\n  };\n\n  /**\n   * Will enable customization of the notify/subscription bell button.\n   */\n  notifyButton?: {\n    /**\n     * A function you define that returns true to show the Subscription Bell, or false to hide it.\n     * Typically used the hide the Subscription Bell after the user is subscribed.\n     * This function is not re-evaluated on every state change; this function is only evaluated once when the Subscription Bell begins to show.\n     */\n    displayPredicate?: () => boolean | Promise<boolean>;\n\n    /**\n     * Enable the Subscription Bell. The Subscription Bell is otherwise disabled by default.\n     */\n    enable?: boolean;\n\n    /** Specify CSS-valid pixel offsets using bottom, left, and right. */\n    offset?: { bottom: string; left: string; right: string };\n\n    /**\n     * If `true`, the Subscription Bell will display an icon that there is 1 unread message.\n     * When hovering over the Subscription Bell, the user will see custom text set by message.prenotify.\n     */\n    prenotify: boolean;\n\n    /** Either `bottom-left` or `bottom-right`. The Subscription Bell will be fixed at this location on your page. */\n    position?: 'bottom-left' | 'bottom-right';\n\n    /**  Set `false` to hide the 'Powered by OneSignal' text in the Subscription Bell dialog popup. */\n    showCredit: boolean;\n\n    /**\n     * The Subscription Bell will initially appear at one of these sizes, and then shrink down to size `small` after the user subscribes.\n     */\n    size?: 'small' | 'medium' | 'large';\n\n    /** Customize the Subscription Bell text. */\n    text: {\n      'dialog.blocked.message': string;\n      'dialog.blocked.title': string;\n      'dialog.main.button.subscribe': string;\n      'dialog.main.button.unsubscribe': string;\n      'dialog.main.title': string;\n      'message.action.resubscribed': string;\n      'message.action.subscribed': string;\n      'message.action.subscribing': string;\n      'message.action.unsubscribed': string;\n      'message.prenotify': string;\n      'tip.state.blocked': string;\n      'tip.state.subscribed': string;\n      'tip.state.unsubscribed': string;\n    };\n  };\n\n  persistNotification?: boolean;\n  webhooks?: {\n    /**\n     * Enable this setting only if your server has CORS enabled and supports non-simple CORS requests.\n     * If this setting is disabled, your webhook will not need CORS to receive data, but it will not receive the custom headers.\n     * The simplest option is to leave it disabled.\n     * @default false\n     */\n    cors: boolean;\n\n    /**\n     * This event occurs after a notification is clicked.\n     * @example https://site.com/hook\n     */\n    'notification.clicked'?: string;\n\n    /**\n     * This event occurs after a notification is intentionally dismissed by the user (clicking the notification body or one of the notification action buttons does not trigger the dismissed webhook),\n     * after a group of notifications are all dismissed (with this notification as part of that group), or after a notification expires on its own time and disappears. This event is supported on Chrome only.\n     * @example https://site.com/hook\n     */\n    'notification.dismissed'?: string;\n\n    /**\n     * This event occurs after a notification is displayed.\n     * @example https://site.com/hook\n     */\n    'notification.willDisplay'?: string;\n  };\n  autoResubscribe?: boolean;\n  autoRegister?: boolean;\n  notificationClickHandlerMatch?: string;\n  notificationClickHandlerAction?: string;\n  path?: string;\n  serviceWorkerParam?: { scope: string };\n  serviceWorkerPath?: string;\n  serviceWorkerOverrideForTypical?: boolean;\n  serviceWorkerUpdaterPath?: string;\n  allowLocalhostAsSecureOrigin?: boolean;\n  [key: string]: any;\n}\n\nexport interface IOneSignalOneSignal {\n\tSlidedown: IOneSignalSlidedown;\n\tNotifications: IOneSignalNotifications;\n\tSession: IOneSignalSession;\n\tUser: IOneSignalUser;\n\tDebug: IOneSignalDebug;\n\tlogin(externalId: string, jwtToken?: string): Promise<void>;\n\tlogout(): Promise<void>;\n\tinit(options: IInitObject): Promise<void>;\n\tsetConsentGiven(consent: boolean): Promise<void>;\n\tsetConsentRequired(requiresConsent: boolean): Promise<void>;\n}\nexport interface IOneSignalNotifications {\n\tpermissionNative: NotificationPermission;\n\tpermission: boolean;\n\tsetDefaultUrl(url: string): Promise<void>;\n\tsetDefaultTitle(title: string): Promise<void>;\n\tisPushSupported(): boolean;\n\trequestPermission(): Promise<boolean>;\n\taddEventListener<K extends NotificationEventName>(event: K, listener: (obj: NotificationEventTypeMap[K]) => void): void;\n\tremoveEventListener<K extends NotificationEventName>(event: K, listener: (obj: NotificationEventTypeMap[K]) => void): void;\n}\nexport interface IOneSignalSlidedown {\n\tpromptPush(options?: AutoPromptOptions): Promise<void>;\n\tpromptPushCategories(options?: AutoPromptOptions): Promise<void>;\n\tpromptSms(options?: AutoPromptOptions): Promise<void>;\n\tpromptEmail(options?: AutoPromptOptions): Promise<void>;\n\tpromptSmsAndEmail(options?: AutoPromptOptions): Promise<void>;\n\taddEventListener(event: SlidedownEventName, listener: (wasShown: boolean) => void): void;\n\tremoveEventListener(event: SlidedownEventName, listener: (wasShown: boolean) => void): void;\n}\nexport interface IOneSignalDebug {\n\tsetLogLevel(logLevel: 'trace' | 'debug' | 'info' | 'warn' | 'error'): void;\n}\nexport interface IOneSignalSession {\n\tsendOutcome(outcomeName: string, outcomeWeight?: number): Promise<void>;\n\tsendUniqueOutcome(outcomeName: string): Promise<void>;\n}\nexport interface IOneSignalUser {\n\tonesignalId: string | undefined;\n\texternalId: string | undefined;\n\tPushSubscription: IOneSignalPushSubscription;\n\taddAlias(label: string, id: string): void;\n\taddAliases(aliases: { [key: string]: string }): void;\n\tremoveAlias(label: string): void;\n\tremoveAliases(labels: string[]): void;\n\taddEmail(email: string): void;\n\tremoveEmail(email: string): void;\n\taddSms(smsNumber: string): void;\n\tremoveSms(smsNumber: string): void;\n\taddTag(key: string, value: string): void;\n\taddTags(tags: { [key: string]: string }): void;\n\tremoveTag(key: string): void;\n\tremoveTags(keys: string[]): void;\n\tgetTags(): { [key: string]: string };\n\taddEventListener(event: 'change', listener: (change: UserChangeEvent) => void): void;\n\tremoveEventListener(event: 'change', listener: (change: UserChangeEvent) => void): void;\n\tsetLanguage(language: string): void;\n\tgetLanguage(): string;\n\ttrackEvent(name: string, properties?: Record<string, unknown>): void;\n}\nexport interface IOneSignalPushSubscription {\n\tid: string | null | undefined;\n\ttoken: string | null | undefined;\n\toptedIn: boolean | undefined;\n\toptIn(): Promise<void>;\n\toptOut(): Promise<void>;\n\taddEventListener(event: 'change', listener: (change: SubscriptionChangeEvent) => void): void;\n\tremoveEventListener(event: 'change', listener: (change: SubscriptionChangeEvent) => void): void;\n}\nfunction oneSignalLogin(externalId: string, jwtToken?: string): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.login(externalId, jwtToken)\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction oneSignalLogout(): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.logout()\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction oneSignalSetConsentGiven(consent: boolean): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.setConsentGiven(consent)\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction oneSignalSetConsentRequired(requiresConsent: boolean): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.setConsentRequired(requiresConsent)\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction slidedownPromptPush(options?: AutoPromptOptions): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.Slidedown.promptPush(options)\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction slidedownPromptPushCategories(options?: AutoPromptOptions): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.Slidedown.promptPushCategories(options)\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction slidedownPromptSms(options?: AutoPromptOptions): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.Slidedown.promptSms(options)\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction slidedownPromptEmail(options?: AutoPromptOptions): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.Slidedown.promptEmail(options)\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction slidedownPromptSmsAndEmail(options?: AutoPromptOptions): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.Slidedown.promptSmsAndEmail(options)\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction slidedownAddEventListener(event: SlidedownEventName, listener: (wasShown: boolean) => void): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.Slidedown.addEventListener(event, listener);\n  });\n}\n\nfunction slidedownRemoveEventListener(event: SlidedownEventName, listener: (wasShown: boolean) => void): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.Slidedown.removeEventListener(event, listener);\n  });\n}\n\nfunction notificationsSetDefaultUrl(url: string): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.Notifications.setDefaultUrl(url)\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction notificationsSetDefaultTitle(title: string): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.Notifications.setDefaultTitle(title)\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction notificationsRequestPermission(): Promise<boolean> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.Notifications.requestPermission()\n        .then(result => resolve(result))\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction notificationsAddEventListener<K extends NotificationEventName>(event: K, listener: (obj: NotificationEventTypeMap[K]) => void): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.Notifications.addEventListener(event, listener);\n  });\n}\n\nfunction notificationsRemoveEventListener<K extends NotificationEventName>(event: K, listener: (obj: NotificationEventTypeMap[K]) => void): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.Notifications.removeEventListener(event, listener);\n  });\n}\n\nfunction sessionSendOutcome(outcomeName: string, outcomeWeight?: number): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.Session.sendOutcome(outcomeName, outcomeWeight)\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction sessionSendUniqueOutcome(outcomeName: string): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.Session.sendUniqueOutcome(outcomeName)\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction userAddAlias(label: string, id: string): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.addAlias(label, id);\n  });\n}\n\nfunction userAddAliases(aliases: { [key: string]: string }): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.addAliases(aliases);\n  });\n}\n\nfunction userRemoveAlias(label: string): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.removeAlias(label);\n  });\n}\n\nfunction userRemoveAliases(labels: string[]): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.removeAliases(labels);\n  });\n}\n\nfunction userAddEmail(email: string): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.addEmail(email);\n  });\n}\n\nfunction userRemoveEmail(email: string): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.removeEmail(email);\n  });\n}\n\nfunction userAddSms(smsNumber: string): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.addSms(smsNumber);\n  });\n}\n\nfunction userRemoveSms(smsNumber: string): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.removeSms(smsNumber);\n  });\n}\n\nfunction userAddTag(key: string, value: string): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.addTag(key, value);\n  });\n}\n\nfunction userAddTags(tags: { [key: string]: string }): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.addTags(tags);\n  });\n}\n\nfunction userRemoveTag(key: string): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.removeTag(key);\n  });\n}\n\nfunction userRemoveTags(keys: string[]): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.removeTags(keys);\n  });\n}\n\n// @ts-expect-error - return non-Promise type despite needing to await OneSignalDeferred\nasync function userGetTags(): { [key: string]: string } {\n  let retVal: { [key: string]: string };\n  await window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    retVal = oneSignal.User.getTags();\n  });\n  // @ts-ignore\n  return retVal;\n}\n\nfunction userAddEventListener(event: 'change', listener: (change: UserChangeEvent) => void): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.addEventListener(event, listener);\n  });\n}\n\nfunction userRemoveEventListener(event: 'change', listener: (change: UserChangeEvent) => void): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.removeEventListener(event, listener);\n  });\n}\n\nfunction userSetLanguage(language: string): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.setLanguage(language);\n  });\n}\n\n// @ts-expect-error - return non-Promise type despite needing to await OneSignalDeferred\nasync function userGetLanguage(): string {\n  let retVal: string;\n  await window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    retVal = oneSignal.User.getLanguage();\n  });\n  // @ts-ignore\n  return retVal;\n}\n\nfunction userTrackEvent(name: string, properties?: Record<string, unknown>): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.trackEvent(name, properties);\n  });\n}\n\nfunction pushSubscriptionOptIn(): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.User.PushSubscription.optIn()\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction pushSubscriptionOptOut(): Promise<void> {\n  return new Promise((resolve, reject) => {\n    if (isOneSignalScriptFailed) {\n      reject(new Error('OneSignal script failed to load.'));\n      return;\n    }\n\n    window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n      oneSignal.User.PushSubscription.optOut()\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  });\n}\nfunction pushSubscriptionAddEventListener(event: 'change', listener: (change: SubscriptionChangeEvent) => void): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.PushSubscription.addEventListener(event, listener);\n  });\n}\n\nfunction pushSubscriptionRemoveEventListener(event: 'change', listener: (change: SubscriptionChangeEvent) => void): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.User.PushSubscription.removeEventListener(event, listener);\n  });\n}\n\nfunction debugSetLogLevel(logLevel: 'trace' | 'debug' | 'info' | 'warn' | 'error'): void {\n  window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n    oneSignal.Debug.setLogLevel(logLevel);\n  });\n}\n\n\nconst PushSubscriptionNamespace: IOneSignalPushSubscription = {\n\tget id(): string | null | undefined { return window.OneSignal?.User?.PushSubscription?.id; },\n\tget token(): string | null | undefined { return window.OneSignal?.User?.PushSubscription?.token; },\n\tget optedIn(): boolean | undefined { return window.OneSignal?.User?.PushSubscription?.optedIn; },\n\toptIn: pushSubscriptionOptIn,\n\toptOut: pushSubscriptionOptOut,\n\taddEventListener: pushSubscriptionAddEventListener,\n\tremoveEventListener: pushSubscriptionRemoveEventListener,\n};\n\nconst UserNamespace: IOneSignalUser = {\n\tget onesignalId(): string | undefined { return window.OneSignal?.User?.onesignalId; },\n\tget externalId(): string | undefined { return window.OneSignal?.User?.externalId; },\n\taddAlias: userAddAlias,\n\taddAliases: userAddAliases,\n\tremoveAlias: userRemoveAlias,\n\tremoveAliases: userRemoveAliases,\n\taddEmail: userAddEmail,\n\tremoveEmail: userRemoveEmail,\n\taddSms: userAddSms,\n\tremoveSms: userRemoveSms,\n\taddTag: userAddTag,\n\taddTags: userAddTags,\n\tremoveTag: userRemoveTag,\n\tremoveTags: userRemoveTags,\n\tgetTags: userGetTags,\n\taddEventListener: userAddEventListener,\n\tremoveEventListener: userRemoveEventListener,\n\tsetLanguage: userSetLanguage,\n\tgetLanguage: userGetLanguage,\n\ttrackEvent: userTrackEvent,\n\tPushSubscription: PushSubscriptionNamespace,\n};\n\nconst SessionNamespace: IOneSignalSession = {\n\tsendOutcome: sessionSendOutcome,\n\tsendUniqueOutcome: sessionSendUniqueOutcome,\n};\n\nconst DebugNamespace: IOneSignalDebug = {\n\tsetLogLevel: debugSetLogLevel,\n};\n\nconst SlidedownNamespace: IOneSignalSlidedown = {\n\tpromptPush: slidedownPromptPush,\n\tpromptPushCategories: slidedownPromptPushCategories,\n\tpromptSms: slidedownPromptSms,\n\tpromptEmail: slidedownPromptEmail,\n\tpromptSmsAndEmail: slidedownPromptSmsAndEmail,\n\taddEventListener: slidedownAddEventListener,\n\tremoveEventListener: slidedownRemoveEventListener,\n};\n\nconst NotificationsNamespace: IOneSignalNotifications = {\n\tget permissionNative(): NotificationPermission { return window.OneSignal?.Notifications?.permissionNative ?? 'default'; },\n\tget permission(): boolean { return window.OneSignal?.Notifications?.permission ?? false; },\n\tsetDefaultUrl: notificationsSetDefaultUrl,\n\tsetDefaultTitle: notificationsSetDefaultTitle,\n\tisPushSupported,\n\trequestPermission: notificationsRequestPermission,\n\taddEventListener: notificationsAddEventListener,\n\tremoveEventListener: notificationsRemoveEventListener,\n};\n\n/**\n * @PublicApi\n */\nfunction isPushSupported(): boolean {\n  return isPushNotificationsSupported();\n}\n\nimport { Injectable } from '@angular/core';\nconst ONESIGNAL_SDK_ID = 'onesignal-sdk';\nconst ONE_SIGNAL_SCRIPT_SRC =\n  'https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js';\n\n// true if the script is successfully loaded from CDN.\nlet isOneSignalInitialized = false;\n// true if the script fails to load from CDN. A separate flag is necessary\n// to disambiguate between a CDN load failure and a delayed call to\n// OneSignal#init.\nlet isOneSignalScriptFailed = false;\n\nif (typeof window !== 'undefined') {\n  window.OneSignalDeferred = window.OneSignalDeferred || [];\n  addSDKScript();\n}\n\n/**\n * The following code is copied directly from the native SDK source file BrowserSupportsPush.ts\n * S T A R T\n */\n\n// Checks if the browser supports push notifications by checking if specific\n//   classes and properties on them exist\nfunction isPushNotificationsSupported(): boolean {\n  return supportsVapidPush() || supportsSafariPush();\n}\n\nfunction isMacOSSafariInIframe(): boolean {\n  // Fallback detection for Safari on macOS in an iframe context\n  return (\n    window.top !== window && // isContextIframe\n    navigator.vendor === 'Apple Computer, Inc.' && // isSafari\n    navigator.platform === 'MacIntel'\n  ); // isMacOS\n}\n\nfunction supportsSafariPush(): boolean {\n  return (\n    (window.safari && typeof window.safari.pushNotification !== 'undefined') ||\n    isMacOSSafariInIframe()\n  );\n}\n\n// Does the browser support the standard Push API\nfunction supportsVapidPush(): boolean {\n  return (\n    typeof PushSubscriptionOptions !== 'undefined' &&\n    PushSubscriptionOptions.prototype.hasOwnProperty('applicationServerKey')\n  );\n}\n/* E N D */\n\nfunction handleOnError(): void {\n  isOneSignalScriptFailed = true;\n}\n\nfunction addSDKScript(): void {\n  const script = document.createElement('script');\n  script.id = ONESIGNAL_SDK_ID;\n  script.defer = true;\n  script.src = ONE_SIGNAL_SCRIPT_SRC;\n\n  // Always resolve whether or not the script is successfully initialized.\n  // This is important for users who may block cdn.onesignal.com w/ adblock.\n  script.onerror = () => {\n    handleOnError();\n  };\n\n  document.head.appendChild(script);\n}\n\ndeclare global {\n  interface Window {\n    OneSignalDeferred?: OneSignalDeferredLoadedCallback[];\n    OneSignal?: IOneSignalOneSignal;\n    safari?: {\n      pushNotification: any;\n    };\n  }\n}\n\nexport interface IOneSignalOneSignal {\n  [key: string]: any;\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class OneSignal implements IOneSignalOneSignal {\n  [key: string]: any;\n\n  constructor() {}\n\n  /* P U B L I C */\n\n  /**\n   * @PublicApi\n   */\n  init(options: IInitObject): Promise<void> {\n    if (isOneSignalInitialized) {\n      return Promise.reject(`OneSignal is already initialized.`);\n    }\n\n    if (!options || !options.appId) {\n      return Promise.reject('You need to provide your OneSignal appId.');\n    }\n\n    if (!document) {\n      return Promise.reject(`Document is not defined.`);\n    }\n\n    // Handle both disabled and disable keys for welcome notification\n    if (options.welcomeNotification?.disabled !== undefined) {\n      options.welcomeNotification.disable = options.welcomeNotification.disabled;\n    }\n\n    return new Promise<void>((resolve, reject) => {\n      window.OneSignalDeferred?.push((oneSignal: IOneSignalOneSignal) => {\n        oneSignal\n          .init(options)\n          .then(() => {\n            isOneSignalInitialized = true;\n            resolve();\n          })\n          .catch(reject);\n      });\n    });\n  }\n\n\tUser = UserNamespace;\n\tSession = SessionNamespace;\n\tDebug = DebugNamespace;\n\tSlidedown = SlidedownNamespace;\n\tNotifications = NotificationsNamespace;\n\tlogin = oneSignalLogin;\n\tlogout = oneSignalLogout;\n\tsetConsentGiven = oneSignalSetConsentGiven;\n\tsetConsentRequired = oneSignalSetConsentRequired;\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'onesignal-onesignal-ngx',\n  template: `\n    <p>\n      onesignal-ngx works!\n    </p>\n  `,\n  styles: [\n  ]\n})\nexport class OnesignalNgxComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { OnesignalNgxComponent } from './onesignal-ngx.component';\n\n\n\n@NgModule({\n  declarations: [OnesignalNgxComponent],\n  imports: [\n  ],\n  exports: [OnesignalNgxComponent]\n})\nexport class OnesignalNgxModule { }\n"]}