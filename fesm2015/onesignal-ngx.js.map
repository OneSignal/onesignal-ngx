{"version":3,"file":"onesignal-ngx.js","sources":["../../../projects/onesignal-ngx/src/lib/onesignal-ngx.service.ts","../../../projects/onesignal-ngx/src/lib/onesignal-ngx.component.ts","../../../projects/onesignal-ngx/src/lib/onesignal-ngx.module.ts","../../../projects/onesignal-ngx/src/public-api.ts","../../../projects/onesignal-ngx/src/onesignal-ngx.ts"],"sourcesContent":["type Action<T> = (item: T) => void;\ninterface AutoPromptOptions { force?: boolean; forceSlidedownOverNative?: boolean; slidedownPromptOptions?: IOneSignalAutoPromptOptions; }\ninterface IOneSignalAutoPromptOptions { force?: boolean; forceSlidedownOverNative?: boolean; isInUpdateMode?: boolean; categoryOptions?: IOneSignalCategories; }\ninterface IOneSignalCategories { positiveUpdateButton: string; negativeUpdateButton: string; savingButtonText: string; errorButtonText: string; updateMessage: string; tags: IOneSignalTagCategory[]; }\ninterface IOneSignalTagCategory { tag: string; label: string; checked?: boolean; }\ntype PushSubscriptionNamespaceProperties = { id: string | null | undefined; token: string | null | undefined; optedIn: boolean; };\ntype SubscriptionChangeEvent = { previous: PushSubscriptionNamespaceProperties; current: PushSubscriptionNamespaceProperties; };\ntype NotificationEventName = 'click' | 'willDisplay' | 'dismiss' | 'permissionChange' | 'permissionPromptDisplay';\ninterface NotificationButtonData { action?: string; title?: string; icon?: string; url?: string; }\ninterface StructuredNotification { id: string; content: string; heading?: string; url?: string; data?: object; rr?: string; icon?: string; image?: string; tag?: string; badge?: string; vibrate?: string; buttons?: NotificationButtonData[]; }\ntype SlidedownEventName = 'slidedownShown';\ntype NotificationCallbackType = | ((obj: StructuredNotification) => void) | ((obj: { to: NotificationPermission }) => void) | ((obj: (arg: any) => void) => void);\n\ninterface IInitObject {\n  appId: string;\n  subdomainName?: string;\n  requiresUserPrivacyConsent?: boolean;\n  promptOptions?: object;\n  welcomeNotification?: object;\n  notifyButton?: object;\n  persistNotification?: boolean;\n  webhooks?: object;\n  autoResubscribe?: boolean;\n  autoRegister?: boolean;\n  notificationClickHandlerMatch?: string;\n  notificationClickHandlerAction?: string;\n  serviceWorkerParam?: { scope: string };\n  serviceWorkerPath?: string;\n  serviceWorkerUpdaterPath?: string;\n  path?: string;\n  allowLocalhostAsSecureOrigin?: boolean;\n  [key: string]: any;\n}\n\nimport { Injectable } from '@angular/core';\nconst ONESIGNAL_SDK_ID = 'onesignal-sdk';\nconst ONE_SIGNAL_SCRIPT_SRC = 'https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js';\n\ntype FunctionQueueItem = { name: string; args: IArguments; namespaceName?: string, promiseResolver?: (result: any) => any };\n\n// true if the script is successfully loaded from CDN.\nlet isOneSignalInitialized = false;\n// true if the script fails to load from CDN. A separate flag is necessary\n// to disambiguate between a CDN load failure and a delayed call to\n// OneSignal#init.\nlet isOneSignalScriptFailed = false;\n\ndeclare global {\n  interface Window {\n    OneSignalDeferred: any;\n    safari?: {\n      pushNotificationPermission: (permissionData: any) => void;\n      pushNotification: any;\n    };\n  }\n}\n\ninterface IOneSignal {\n  [key: string]: any;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OneSignal implements IOneSignal {\n  private isOneSignalInitialized = false;\n  private ngOneSignalFunctionQueue: FunctionQueueItem[] = [];\n\n  constructor() { }\n\n  /* H E L P E R S */\n\n  private doesOneSignalExist = () => {\n    if (window.OneSignalDeferred) {\n      return true;\n    }\n    return false;\n  }\n\n  private handleOnLoad(resolve: () => void, options: IInitObject): void {\n    isOneSignalInitialized = true;\n\n    // OneSignal is assumed to be loaded correctly because this method\n    // is called after the script is successfully loaded by CDN, but\n    // just in case.\n    window.OneSignalDeferred = window.OneSignalDeferred || []\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.init(options);\n    });\n\n    window.OneSignalDeferred.push(() => {\n      this.processQueuedOneSignalFunctions();\n      resolve();\n    });\n  }\n\n  private handleOnError(resolve: () => void): void {\n    isOneSignalScriptFailed = true;\n    // Ensure that any unresolved functions are cleared from the queue,\n    // even in the event of a CDN load failure.\n    this.processQueuedOneSignalFunctions();\n    resolve();\n  }\n\n  private processQueuedOneSignalFunctions = () => {\n    this.ngOneSignalFunctionQueue.forEach(element => {\n      const { name, args, namespaceName, promiseResolver } = element;\n\n      if (!!promiseResolver && !!namespaceName) {\n        (this as IOneSignal)[namespaceName][name](...args).then((result: any) => {\n          promiseResolver(result);\n        });\n      } else if (!!namespaceName) {\n        window.OneSignalDeferred[namespaceName][name](...args);\n      }\n    });\n  }\n\n  /* P U B L I C */\n\n  /**\n   * @PublicApi\n   */\n  init(options: IInitObject): Promise<void> {\n    return new Promise<void>(resolve => {\n      if (this.isOneSignalInitialized) {\n        resolve();\n        return;\n      }\n\n      if (!options || !options.appId) {\n        throw new Error('You need to provide your OneSignal appId.');\n      }\n      if (!document) {\n        resolve();\n        return;\n      }\n\n      const script = document.createElement('script');\n      script.id = ONESIGNAL_SDK_ID;\n      script.defer = true;\n      script.src = ONE_SIGNAL_SCRIPT_SRC;\n\n      script.onload = () => {\n        this.handleOnLoad(resolve, options);\n      };\n\n      // Always resolve whether or not the script is successfully initialized.\n      // This is important for users who may block cdn.onesignal.com w/ adblock.\n      script.onerror = () => {\n        this.handleOnError(resolve);\n      };\n\n      document.head.appendChild(script);\n    });\n  }\n\n  /**\n   * @PublicApi\n   */\n  isPushSupported(): boolean {\n    const supportsVapid = typeof PushSubscriptionOptions !== 'undefined' && PushSubscriptionOptions.prototype.hasOwnProperty('applicationServerKey');\n    const isSafariInIframe = navigator.vendor === 'Apple Computer, Inc.' && window.top !== window;\n    const supportsSafari = typeof window.safari !== 'undefined' &&\n      typeof window.safari.pushNotification !== 'undefined' || isSafariInIframe;\n\n    return supportsVapid || supportsSafari;\n  }\n\n\n\n  login(externalId: string, token?: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'login',\n          namespaceName: '',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.login(externalId, token)\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  logout(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'logout',\n          namespaceName: '',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.logout()\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  setConsentGiven(consent: boolean): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'setConsentGiven',\n          namespaceName: '',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.setConsentGiven(consent)\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  setConsentRequired(requiresConsent: boolean): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'setConsentRequired',\n          namespaceName: '',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.setConsentRequired(requiresConsent)\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  setDefaultUrl(url: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'setDefaultUrl',\n          namespaceName: 'Notifications',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.Notifications.setDefaultUrl(url)\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  setDefaultTitle(title: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'setDefaultTitle',\n          namespaceName: 'Notifications',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.Notifications.setDefaultTitle(title)\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  getPermissionStatus(onComplete: Action<NotificationPermission>): Promise<NotificationPermission> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'getPermissionStatus',\n          namespaceName: 'Notifications',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.Notifications.getPermissionStatus(onComplete)\n          .then((value: Promise<NotificationPermission>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  requestPermission(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'requestPermission',\n          namespaceName: 'Notifications',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.Notifications.requestPermission()\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  addNotificationsEventListener(event: NotificationEventName, listener: NotificationCallbackType): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'addNotificationsEventListener',\n        namespaceName: 'Notifications',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.addNotificationsEventListener(event, listener);\n    });\n  }\n\n  removeNotificationsEventListener(event: NotificationEventName, listener: NotificationCallbackType): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'removeNotificationsEventListener',\n        namespaceName: 'Notifications',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.removeNotificationsEventListener(event, listener);\n    });\n  }\n\n  promptPush(options?: AutoPromptOptions): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'promptPush',\n          namespaceName: 'Slidedown',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.Slidedown.promptPush(options)\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  promptPushCategories(options?: AutoPromptOptions): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'promptPushCategories',\n          namespaceName: 'Slidedown',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.Slidedown.promptPushCategories(options)\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  promptSms(options?: AutoPromptOptions): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'promptSms',\n          namespaceName: 'Slidedown',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.Slidedown.promptSms(options)\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  promptEmail(options?: AutoPromptOptions): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'promptEmail',\n          namespaceName: 'Slidedown',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.Slidedown.promptEmail(options)\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  promptSmsAndEmail(options?: AutoPromptOptions): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'promptSmsAndEmail',\n          namespaceName: 'Slidedown',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.Slidedown.promptSmsAndEmail(options)\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  addSlidedownEventListener(event: SlidedownEventName, listener: (wasShown: boolean) => void): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'addSlidedownEventListener',\n        namespaceName: 'Slidedown',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.addSlidedownEventListener(event, listener);\n    });\n  }\n\n  removeSlidedownEventListener(event: SlidedownEventName, listener: (wasShown: boolean) => void): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'removeSlidedownEventListener',\n        namespaceName: 'Slidedown',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.removeSlidedownEventListener(event, listener);\n    });\n  }\n\n  setLogLevel(logLevel: string): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'setLogLevel',\n        namespaceName: 'Debug',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.setLogLevel(logLevel);\n    });\n  }\n\n  sendOutcome(outcomeName: string, outcomeWeight?: number): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'sendOutcome',\n          namespaceName: 'Session',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.Session.sendOutcome(outcomeName, outcomeWeight)\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  sendUniqueOutcome(outcomeName: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'sendUniqueOutcome',\n          namespaceName: 'Session',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.Session.sendUniqueOutcome(outcomeName)\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  addAlias(label: string, id: string): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'addAlias',\n        namespaceName: 'User',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.addAlias(label, id);\n    });\n  }\n\n  addAliases(aliases: { [key: string]: string }): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'addAliases',\n        namespaceName: 'User',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.addAliases(aliases);\n    });\n  }\n\n  removeAlias(label: string): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'removeAlias',\n        namespaceName: 'User',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.removeAlias(label);\n    });\n  }\n\n  removeAliases(labels: string[]): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'removeAliases',\n        namespaceName: 'User',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.removeAliases(labels);\n    });\n  }\n\n  addEmail(email: string): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'addEmail',\n        namespaceName: 'User',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.addEmail(email);\n    });\n  }\n\n  removeEmail(email: string): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'removeEmail',\n        namespaceName: 'User',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.removeEmail(email);\n    });\n  }\n\n  addSms(smsNumber: string): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'addSms',\n        namespaceName: 'User',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.addSms(smsNumber);\n    });\n  }\n\n  removeSms(smsNumber: string): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'removeSms',\n        namespaceName: 'User',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.removeSms(smsNumber);\n    });\n  }\n\n  optIn(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'optIn',\n          namespaceName: 'PushSubscription',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.PushSubscription.optIn()\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  optOut(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (isOneSignalScriptFailed) {\n        reject();\n      }\n\n      if (!this.doesOneSignalExist()) {\n        this.ngOneSignalFunctionQueue.push({\n          name: 'optOut',\n          namespaceName: 'PushSubscription',\n          args: arguments,\n          promiseResolver: resolve,\n        });\n        return;\n      }\n\n      window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n        oneSignal.PushSubscription.optOut()\n          .then((value: Promise<void>) => resolve(value))\n          .catch((error: Error) => reject(error));\n      });\n    });\n  }\n\n  addPushSubscriptionEventListener(event: string, listener: (change: SubscriptionChangeEvent) => void): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'addPushSubscriptionEventListener',\n        namespaceName: 'PushSubscription',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.addPushSubscriptionEventListener(event, listener);\n    });\n  }\n\n  removePushSubscriptionEventListener(event: string, listener: (change: SubscriptionChangeEvent) => void): void {\n    if (!this.doesOneSignalExist()) {\n      this.ngOneSignalFunctionQueue.push({\n        name: 'removePushSubscriptionEventListener',\n        namespaceName: 'PushSubscription',\n        args: arguments,\n      });\n      return;\n    }\n\n    window.OneSignalDeferred.push((oneSignal: IOneSignal) => {\n      oneSignal.removePushSubscriptionEventListener(event, listener);\n    });\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'onesignal-onesignal-ngx',\n  template: `\n    <p>\n      onesignal-ngx works!\n    </p>\n  `,\n  styles: [\n  ]\n})\nexport class OnesignalNgxComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { OnesignalNgxComponent } from './onesignal-ngx.component';\n\n\n\n@NgModule({\n  declarations: [OnesignalNgxComponent],\n  imports: [\n  ],\n  exports: [OnesignalNgxComponent]\n})\nexport class OnesignalNgxModule { }\n","/*\n * Public API Surface of onesignal-ngx\n */\n\nexport * from './lib/onesignal-ngx.service';\nexport * from './lib/onesignal-ngx.component';\nexport * from './lib/onesignal-ngx.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}